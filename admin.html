<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Pannello Admin</title>
</head>
<body>
    <h1>Pannello di Controllo</h1>
    <div id="login-form">
        <label for="password">Password:</label>
        <input type="password" id="password">
        <button id="login-button">Entra</button>
    </div>

    <div id="admin-panel" style="display:none;">
        <h3>Modifica Dati Partita</h3>
        <label for="admin-titolo">Titolo:</label><br>
        <input type="text" id="admin-titolo" size="50"><br><br>
        
        <label for="admin-descrizione">Descrizione:</label><br>
        <textarea id="admin-descrizione" rows="4" cols="50"></textarea><br><br>
        
        <button id="save-button">Salva Dati</button>
    </div>

    <!-- Configurazione di Firebase (chiavi del tuo progetto) -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
      const firebaseConfig = {
        apiKey: "AIzaSyDoFlNYKFgdXvbKn7FRIB2bJ5Qcdx2Uv0g",
        authDomain: "segnapunti-volley.firebaseapp.com",
        databaseURL: "https://segnapunti-volley-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "segnapunti-volley",
        storageBucket: "segnapunti-volley.firebasestorage.app",
        messagingSenderId: "375317088210",
        appId: "1:375317088210:web:863feb6592325d0bc8ea0b"
      };
      const app = initializeApp(firebaseConfig);
    </script>

    <!-- Codice per scrivere i dati -->
    <script type="module">
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";

        const loginForm = document.getElementById('login-form');
        const adminPanel = document.getElementById('admin-panel');
        const loginButton = document.getElementById('login-button');
        const passwordInput = document.getElementById('password');
        const saveButton = document.getElementById('save-button');
        
        // La password per accedere al pannello
        const passwordCorretta = "volley"; 
        
        loginButton.onclick = function() {
            if (passwordInput.value === passwordCorretta) {
                loginForm.style.display = 'none';
                adminPanel.style.display = 'block';
            } else {
                alert('Password sbagliata!');
            }
        };

        saveButton.onclick = function() {
            const nuovoTitolo = document.getElementById('admin-titolo').value;
            const nuovaDescrizione = document.getElementById('admin-descrizione').value;
            const database = getDatabase();
            set(ref(database, 'partita'), {
                titolo: nuovoTitolo,
                descrizione: nuovaDescrizione
            });
            alert('Dati salvati con successo!');
        };
    </script>
</body>
</html>
